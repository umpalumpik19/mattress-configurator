/* /src/components/FloatingMattress.css */
.floating-mattress {
  position: fixed;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1000;
  pointer-events: none;
  animation: slideDownBounce 0.4s cubic-bezier(0.22, 0.61, 0.36, 1) forwards,
             fadeOut 0.3s ease-out 2.7s forwards;
}

/* Стеклянный контейнер */
.floating-mattress-container {
  width: min(35vw, 480px);
  height: min(35vw, 480px);
  background: rgba(22, 22, 24, 0.85);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: min(4.5vw, 60px);
  box-shadow: 
    0 20px 60px rgba(0, 0, 0, 0.5),
    0 0 0 1px rgba(255, 255, 255, 0.05) inset,
    0 10px 30px rgba(0, 0, 0, 0.3);
  padding: 2px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* Холст для матраса */
.floating-mattress-canvas {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Слои матраса */
.floating-layer {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: contain;
  max-width: 100%;
  max-height: 100%;
}

/* Анимация появления */
@keyframes slideDownBounce {
  0% {
    opacity: 0;
    transform: translateX(-50%) translateY(-100px) scale(0.8);
  }
  50% {
    opacity: 1;
    transform: translateX(-50%) translateY(20px) scale(1.05);
  }
  70% {
    transform: translateX(-50%) translateY(-5px) scale(0.98);
  }
  100% {
    opacity: 1;
    transform: translateX(-50%) translateY(0) scale(1);
  }
}

/* Анимация исчезновения */
@keyframes fadeOut {
  to {
    opacity: 0;
    transform: translateX(-50%) translateY(-10px) scale(0.95);
  }
}

/* Быстрая анимация исчезновения */
@keyframes fastFadeOut {
  to {
    opacity: 0;
    transform: translateX(-50%) translateY(-10px) scale(0.95);
  }
}

/* Класс для быстрого исчезновения */
.floating-mattress.hiding-fast {
  animation: fastFadeOut 0.2s ease-out forwards !important;
}

/* Адаптивные размеры */

/* Большие экраны */
@media (min-width: 1400px) {
  .floating-mattress-container {
    width: min(32vw, 540px);
    height: min(32vw, 540px);
    border-radius: min(4vw, 72px);
  }
}

/* Планшеты и ноутбуки */
@media (max-width: 1024px) and (min-width: 769px) {
  .floating-mattress-container {
    width: min(40vw, 420px);
    height: min(40vw, 420px);
    border-radius: min(5vw, 54px);
  }
}

/* Мобильные устройства */
@media (max-width: 768px) and (min-width: 481px) {
  .floating-mattress-container {
    width: min(50vw, 360px);
    height: min(50vw, 360px);
    border-radius: min(6vw, 48px);
    background: rgba(22, 22, 24, 0.9);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
  }
}

/* Маленькие экраны */
@media (max-width: 480px) and (min-width: 361px) {
  .floating-mattress-container {
    width: min(70vw, 300px);
    height: min(70vw, 300px);
    border-radius: min(8vw, 42px);
    background: rgba(22, 22, 24, 0.9);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    box-shadow: 
      0 15px 40px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.05) inset,
      0 8px 20px rgba(0, 0, 0, 0.25);
  }
}

/* Очень маленькие экраны */
@media (max-width: 360px) {
  .floating-mattress-container {
    width: min(80vw, 270px);
    height: min(80vw, 270px);
    border-radius: min(10vw, 36px);
    background: rgba(22, 22, 24, 0.9);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    box-shadow: 
      0 15px 40px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.05) inset,
      0 8px 20px rgba(0, 0, 0, 0.25);
  }
}

/* Улучшенная поддержка для Safari */
@supports (-webkit-backdrop-filter: blur(20px)) {
  .floating-mattress-container {
    -webkit-backdrop-filter: blur(20px);
  }
}

/* Дополнительные стили для плавности анимации */
.floating-mattress {
  will-change: transform, opacity;
}

.floating-mattress-container {
  will-change: transform;
}

/* Предотвращение мерцания при загрузке изображений */
.floating-layer {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}