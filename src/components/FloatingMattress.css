/* /src/components/FloatingMattress.css */
.floating-mattress {
  position: fixed;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1000;
  pointer-events: none;
  animation: slideDownBounce 0.4s cubic-bezier(0.22, 0.61, 0.36, 1) forwards,
             fadeOut 0.3s ease-out 2.7s forwards;
}

/* Стеклянный контейнер */
.floating-mattress-container {
  width: 480px;
  height: 480px;
  background: rgba(22, 22, 24, 0.85);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 60px;
  box-shadow: 
    0 20px 60px rgba(0, 0, 0, 0.5),
    0 0 0 1px rgba(255, 255, 255, 0.05) inset,
    0 10px 30px rgba(0, 0, 0, 0.3);
  padding: 2px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* Холст для матраса */
.floating-mattress-canvas {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Слои матраса */
.floating-layer {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: contain;
  max-width: 100%;
  max-height: 100%;
}

/* Анимация появления */
@keyframes slideDownBounce {
  0% {
    opacity: 0;
    transform: translateX(-50%) translateY(-100px) scale(0.8);
  }
  50% {
    opacity: 1;
    transform: translateX(-50%) translateY(20px) scale(1.05);
  }
  70% {
    transform: translateX(-50%) translateY(-5px) scale(0.98);
  }
  100% {
    opacity: 1;
    transform: translateX(-50%) translateY(0) scale(1);
  }
}

/* Анимация исчезновения */
@keyframes fadeOut {
  to {
    opacity: 0;
    transform: translateX(-50%) translateY(-10px) scale(0.95);
  }
}

/* Быстрая анимация исчезновения */
@keyframes fastFadeOut {
  to {
    opacity: 0;
    transform: translateX(-50%) translateY(-10px) scale(0.95);
  }
}

/* Класс для быстрого исчезновения */
.floating-mattress.hiding-fast {
  animation: fastFadeOut 0.2s ease-out forwards !important;
}

/* Адаптивные размеры */

/* Большие экраны */
@media (min-width: 1200px) {
  .floating-mattress-container {
    width: 540px;
    height: 540px;
    border-radius: 72px;
    padding: 2px;
  }
}

/* Планшеты */
@media (max-width: 1024px) {
  .floating-mattress-container {
    width: 420px;
    height: 420px;
    border-radius: 54px;
    padding: 2px;
  }
}

/* Мобильные устройства */
@media (max-width: 768px) {
  .floating-mattress-container {
    width: 360px;
    height: 360px;
    border-radius: 48px;
    padding: 2px;
    background: rgba(22, 22, 24, 0.9);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
  }
}

/* Маленькие экраны */
@media (max-width: 480px) {
  .floating-mattress-container {
    width: calc(100vw - 40px);
    height: calc(100vw - 40px);
    max-width: 300px;
    max-height: 300px;
    border-radius: 42px;
    padding: 2px;
    box-shadow: 
      0 15px 40px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.05) inset,
      0 8px 20px rgba(0, 0, 0, 0.25);
  }
}

/* Очень маленькие экраны */
@media (max-width: 360px) {
  .floating-mattress-container {
    width: calc(100vw - 30px);
    height: calc(100vw - 30px);
    max-width: 270px;
    max-height: 270px;
    border-radius: 36px;
    padding: 2px;
  }
}

/* Улучшенная поддержка для Safari */
@supports (-webkit-backdrop-filter: blur(20px)) {
  .floating-mattress-container {
    -webkit-backdrop-filter: blur(20px);
  }
}

/* Дополнительные стили для плавности анимации */
.floating-mattress {
  will-change: transform, opacity;
}

.floating-mattress-container {
  will-change: transform;
}

/* Предотвращение мерцания при загрузке изображений */
.floating-layer {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}